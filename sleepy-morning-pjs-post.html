<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleepy Morning & Cute PJs - Lala's Adventures</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons (like heart) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fff0f5; /* Blush pink for an even cutesier feel */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: 3rem; /* Space for footer */
        }
        .container {
            max-width: 900px; /* Max width for content */
            width: 100%;
        }
        .blog-section {
            background-color: #ffffff; /* White background for sections */
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1); /* Softer, more diffused shadow */
            border: 4px solid #fecdd3; /* Rose pink, slightly thicker border */
            border-radius: 2rem; /* More rounded corners */
            overflow: hidden; /* Ensures rounded corners apply to children */
            margin-bottom: 2.5rem; /* Space between sections */
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for hover */
        }
        .blog-section:hover {
            transform: translateY(-8px); /* More pronounced lift on hover */
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); /* Enhanced shadow on hover */
        }
        .btn-primary {
            background-color: #ff85a2; /* Brighter, more vibrant pink */
            color: #ffffff;
            transition: all 0.3s ease;
            transform: translateY(0);
            border: 2px solid #ffffff; /* White border for a cute outline */
        }
        .btn-primary:hover {
            background-color: #ff6b8f; /* Darker pink on hover */
            transform: translateY(-3px) scale(1.05); /* More pronounced lift and slight scale */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25); /* Stronger shadow on hover */
        }
        .header-bg {
            background-image: linear-gradient(to right, #fbcfe8, #fbc0f8); /* Softer, more magical gradient */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1); /* Subtle text shadow for header */
        }
        h1 {
            font-weight: 900; /* Even bolder font for the main title */
        }
        h2, h3 {
            font-weight: 800; /* Bolder font for post titles */
        }
        .text-cutesy-pink {
            color: #ff85a2; /* Custom cutesy pink color */
        }
        .like-button {
            cursor: pointer;
            font-size: 2.5rem; /* Larger heart icon */
            color: #ccc; /* Default grey */
            transition: color 0.2s ease, transform 0.2s ease;
        }
        .like-button.liked {
            color: #ff6b8f; /* Pink when liked */
            transform: scale(1.1);
        }
        .like-button:active {
            transform: scale(0.9); /* Squish effect on click */
        }
        .image-container, .video-container {
            position: relative;
            padding-bottom: 75%; /* 4:3 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-bottom: 4px solid #fecdd3; /* Border between media and text */
        }
        .image-container img, .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures media covers the area */
        }
        /* Lock Overlay Styles */
        .locked-overlay {
            background-color: rgba(255, 255, 255, 0.98); /* Almost opaque white */
            position: fixed; /* Use fixed to cover entire viewport */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            z-index: 9999; /* High z-index to ensure it's on top */
        }
        .locked-overlay h3 {
            color: #ef4444; /* Red */
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .locked-overlay p {
            color: #4b5563; /* Gray-700 */
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .locked-overlay a {
            background-color: #ef4444; /* Red */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .locked-overlay a:hover {
            background-color: #dc2626; /* Darker red */
        }
        /* Pro Content Overlay Styles */
        .pro-content-overlay {
            background-color: rgba(255, 255, 255, 0.95);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            z-index: 10;
            border-radius: 2rem;
        }
        .pro-content-overlay h3 {
            color: #ef4444; /* Red */
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .pro-content-overlay p {
            color: #4b5563; /* Gray-700 */
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .pro-content-overlay a {
            background-color: #ef4444; /* Red */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .pro-content-overlay a:hover {
            background-color: #dc2626; /* Darker red */
        }
    </style>
</head>
<body class="antialiased text-gray-600">
    <!-- Content Lock Script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables for Firebase config and app ID
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app = null;
        let auth = null;
        let db = null;
        let currentUserId = null;

        // Initialize Firebase services only if config is available
        if (firebaseConfig && firebaseConfig.apiKey) {
            app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
            console.log("Firebase services initialized.");
        } else {
            console.warn("Firebase config not found. Authentication and Pro status will not be available.");
        }
        

        /**
         * Gets the current authenticated user's UID.
         * @returns {Promise<string|null>} The user's UID or null if not authenticated.
         */
        async function getAuthenticatedUserId() {
            if (!auth) return null;
            return new Promise(resolve => {
                const unsubscribe = onAuthStateChanged(auth, (user) => {
                    unsubscribe(); // Stop listening once we have a user
                    if (user) {
                        currentUserId = user.uid;
                        resolve(user.uid);
                    } else {
                        resolve(null);
                    }
                });
            });
        }

        /**
         * Fetches a user's subscriber status from Firestore.
         * @returns {Promise<boolean>} True if the user is a Pro Subscriber, false otherwise.
         */
        async function getProSubscriberStatus() {
            if (!db) return false;
            const userId = await getAuthenticatedUserId();

            if (!userId) {
                console.warn("Cannot get subscriber status: User not authenticated.");
                return false;
            }

            try {
                const userDocRef = doc(db, `artifacts/${appId}/users/${userId}/profile`, 'subscription');
                const docSnap = await getDoc(userDocRef);

                if (docSnap.exists()) {
                    const data = docSnap.data();
                    return data.isProSubscriber === true;
                } else {
                    return false;
                }
            } catch (error) {
                console.error("Error fetching subscriber status:", error);
                return false;
            }
        }

        const releaseDate = new Date('2025-08-16T00:00:00'); // Set release date to August 16th, 2025
        const currentDate = new Date();

        document.addEventListener('DOMContentLoaded', async () => {
            // Wait for auth to be ready
            if (auth) {
                 await new Promise(resolve => {
                    onAuthStateChanged(auth, (user) => {
                        if (user) {
                            currentUserId = user.uid;
                        } else {
                             // If no user is signed in, attempt anonymous or custom token sign-in
                            if (initialAuthToken) {
                                signInWithCustomToken(auth, initialAuthToken)
                                    .then((userCredential) => {
                                        console.log("Signed in with custom token:", userCredential.user.uid);
                                    })
                                    .catch((error) => {
                                        console.error("Error signing in with custom token:", error);
                                        signInAnonymously(auth)
                                            .then(() => console.log("Signed in anonymously (fallback)."))
                                            .catch(e => console.error("Error signing in anonymously:", e));
                                    });
                            } else {
                                signInAnonymously(auth)
                                    .then(() => console.log("Signed in anonymously."))
                                    .catch(e => console.error("Error signing in anonymously:", e));
                            }
                        }
                        resolve();
                    });
                });
            }


            if (currentDate < releaseDate) {
                // Article is date-locked for everyone
                document.body.innerHTML = `
                    <div class="locked-overlay">
                        <h3>üîí Coming Soon!</h3>
                        <p>This delightful adventure will be released on August 16th, 2025!</p>
                        <p>Check back soon to explore Lala's cozy morning fun!</p>
                        <a href="toddler-blog" class="mt-4 bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transition-colors">
                            Back to All Adventures! üéÄ
                        </a>
                    </div>
                `;
                document.body.style.overflow = 'hidden'; // Prevent scrolling when locked
            } else {
                // Article is released, now check Pro status
                const isProSubscriber = await getProSubscriberStatus();
                if (!isProSubscriber) {
                    const mainContent = document.querySelector('main');
                    if (mainContent) {
                        mainContent.style.position = 'relative'; // Ensure overlay positions correctly
                        mainContent.innerHTML = `
                            <div class="pro-content-overlay">
                                <h3>üîí Pro Content Only!</h3>
                                <p>This exclusive adventure is reserved for Lucy and Lala Pro Subscribers.</p>
                                <a href="https://buy.stripe.com/eVq00ldtC8408cxfZwabK00" target="_blank">Unlock Now for $10/month!</a>
                            </div>
                            ${mainContent.innerHTML}
                        `;
                        // Optionally blur or reduce opacity of content behind overlay
                        const contentToBlur = mainContent.querySelector('section'); /* Changed to section */
                        if (contentToBlur) {
                            contentToBlur.style.filter = 'blur(5px)';
                            contentToBlur.style.pointerEvents = 'none';
                        }
                    }
                }
            }
        });
    </script>

    <div class="min-h-screen flex flex-col items-center py-8 px-4 w-full">
        <!-- Header Section -->
        <header class="w-full container mx-auto text-center mb-12">
            <div class="header-bg rounded-3xl p-6 shadow-xl mb-4">
                <h1 class="text-5xl md:text-6xl font-extrabold text-white mb-2 drop-shadow-lg">
                    üò¥ Sleepy Mornings & Sweet Dreams! üåô
                </h1>
                <p class="text-xl md:text-2xl text-pink-800 font-semibold">
                    A cozy start to the day with our little one! ‚ú®
                </p>
            </div>
        </header>

        <!-- Main Blog Post Content -->
        <main class="w-full container mx-auto">
            <!-- Section 1: Sleepy Morning Vibes -->
            <section class="blog-section">
                <div class="image-container">
                    <img src="https://i.imgur.com/tKBmitc.jpeg" alt="Lala looking sleepy in pajamas">
                </div>
                <div class="p-8 text-center">
                    <h2 class="text-4xl font-extrabold text-cutesy-pink mb-4">üê∏üçâ Lazy Morning Mood: Pajamas, Frogs & a Couch That Hugs Back üõãÔ∏è</h2>
                    <p class="text-gray-700 leading-relaxed mb-6 text-lg">
                        Just one toddler, one couch, and zero rush. Some mornings aren't about getting dressed or checking boxes‚Äîthey're about curling up in your comfiest jammies and letting the day unfold slowly, one blink at a time.
                        <br><br>
                        Today, Lala is serving ‚ÄúI‚Äôm not quite ready yet‚Äù realness‚Äîlounging on the couch in her absolute favorite pajamas covered in smiling frogsüê∏, sweet watermelon slicesüçâ, and ladybugsüêû that almost look like heartsüíñ. It's giving toddler zen. It‚Äôs giving cozy core.
                    </p>
                    <h4 class="text-2xl font-extrabold text-cutesy-pink mb-4">üí§ Pajama Vibes:</h4>
                    <ul class="list-none pl-0 text-left mx-auto max-w-md text-gray-700 leading-relaxed mb-6 text-lg">
                        <li class="mb-1">‚ú® Soft ivory cotton</li>
                        <li class="mb-1">‚ú® Bright green frogs hopping around</li>
                        <li class="mb-1">‚ú® Ladybugs, watermelon slices, and sleepy-eyed calm</li>
                        <li class="mb-1">‚ú® Fit: toddler-approved for snack time and nap time</li>
                    </ul>
                    <p class="text-gray-700 leading-relaxed mb-6 text-lg">
                        This set is for the slowest kind of day. The kind where the sun sneaks through the blinds just enough‚òÄÔ∏è, the couch feels like a cloud‚òÅÔ∏è, and the only thing on the schedule is another snack (maybe‚Ä¶).
                        <br><br>
                    </p>
                    <h4 class="text-2xl font-extrabold text-cutesy-pink mb-4">üõãÔ∏è The Couch Philosophy:</h4>
                    <p class="text-gray-700 leading-relaxed mb-6 text-lg">She didn‚Äôt say much this morning‚Äîjust curled into her favorite spot and gave a look that said:
                        <br>
                        ‚ÄúToday, I rest. And I might let you sit next to me, but only if you bring juice.‚Äùü•§
                        <br><br>
                    </p>
                    <h4 class="text-2xl font-extrabold text-cutesy-pink mb-4">üí≠ Toddler Thoughts (Probably):</h4>
                    <ul class="list-none pl-0 text-left mx-auto max-w-md text-gray-700 leading-relaxed mb-6 text-lg">
                        <li class="mb-1">‚ú® ‚ÄúFrogs and watermelons go together. That‚Äôs just facts.‚Äùüê∏üçâ</li>
                        <li class="mb-1">‚ú® ‚ÄúWhy get dressed when your jammies already tell a story?‚Äùüìñ</li>
                        <li class="mb-1">‚ú® ‚ÄúThis couch is my personal spaceshipüöÄ and we are headed to Pillow Galaxy.‚Äùüåå</li>
                    </ul>
                    <p class="text-gray-700 leading-relaxed mb-6 text-lg">
                        üì∏ **Captured Moments:**
                        Tiny fingers curled around a pillow corner. Half-grin. Eyes heavy. Absolute peace. These are the days that slip by if we‚Äôre not paying attention‚Äîbut this one was documented, and cherished.üíñ
                        <br><br>
                        If you're looking for similar adorable and comfortable pajamas for your little ones, we highly recommend checking out some of our favorite brands! For playful prints like Lala's, you might find delightful options at <a href="https://www.hannaandersson.com/pajamas/" target="_blank" class="text-pink-600 font-bold hover:underline">Hanna Andersson's pajama collection</a>, known for their organic cotton and vibrant designs. <a href="https://www.carters.com/sleepwear" target="_blank" class="text-pink-600 font-bold hover:underline">Carter's sleepwear</a> also offers a fantastic range of soft, durable, and super cute pajamas with various patterns, including many with animal or food themes. And for classic, cozy styles, don't forget to explore <a href="https://www.gap.com/browse/category.do?cid=5179" target="_blank" class="text-pink-600 font-bold hover:underline">Gap's pajama selection</a>, often featuring charming prints and incredibly soft fabrics perfect for sweet dreams and lazy mornings.
                    </p>
                    <div class="flex justify-center items-center space-x-6 mt-6">
                        <i class="fas fa-heart like-button" onclick="toggleLike(this)"></i>
                        <button class="btn-primary py-3 px-6 rounded-full inline-block font-bold text-lg shadow-lg hover:shadow-xl">
                            Send Good Vibes! üíñ
                        </button>
                    </div>
                </div>
            </section>

            <div class="text-center mt-12">
                <a href="#" class="btn-primary py-5 px-10 rounded-full inline-block font-extrabold text-xl shadow-lg hover:shadow-xl">
                    Back to All Adventures! üéÄ
                </a>
            </div>
        </main>

        <!-- Footer Section -->
        <footer class="w-full container mx-auto text-center mt-12 py-8 border-t-4 border-pink-300 rounded-t-3xl bg-white shadow-inner">
            <p class="text-gray-600 text-lg font-bold">
                &copy; 2025 Lucy and Lala's Adventures. All rights reserved. Made with extra love and sprinkles! ‚ù§Ô∏è‚ú®
            </p>
        </footer>
    </div>

    <script>
        // Function to toggle the 'liked' state of the heart button
        function toggleLike(element) {
            element.classList.toggle('liked');
            // You could add more logic here, like sending data to a server
            // or incrementing a like count displayed next to the heart.
        }
    </script>
</body>
</html>
