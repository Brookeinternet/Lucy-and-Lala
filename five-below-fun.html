<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Five Below with Lucy & Lala: Pro Users Only</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F0F8FF;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }
    </style>
</head>
<body class="text-gray-800">

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 flex-grow flex items-center justify-center text-center">
        <div class="max-w-xl p-8 rounded-xl shadow-lg bg-white border-4 border-yellow-400">
            <header class="mb-8">
                <div class="bg-yellow-400 text-yellow-900 font-bold py-2 px-4 rounded-full mb-4 inline-block">Pro Users Only</div>
                <h1 class="font-pacifico text-4xl md:text-5xl text-pink-600 mb-2">Five Below with Lucy & Lala</h1>
            </header>

            <section class="mb-8">
                <div class="relative inline-block">
                    <svg class="w-24 h-24 text-red-500 mx-auto animate-pulse" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 2a8 8 0 100 16 8 8 0 000-16zM6 8a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                        <path d="M10 3a1 1 0 00-1 1v2a1 1 0 002 0V4a1 1 0 00-1-1zM5.5 5.5a1 1 0 011-1h1a1 1 0 010 2h-1a1 1 0 01-1-1zM14.5 5.5a1 1 0 00-1-1h-1a1 1 0 000 2h1a1 1 0 001-1zM4 10a1 1 0 011-1h2a1 1 0 110 2H5a1 1 0 01-1-1zM16 10a1 1 0 00-1-1h-2a1 1 0 000 2h2a1 1 0 001-1zM5.5 14.5a1 1 0 011-1h1a1 1 0 010 2h-1a1 1 0 01-1-1zM14.5 14.5a1 1 0 00-1-1h-1a1 1 0 000 2h1a1 1 0 001-1zM10 16a1 1 0 01-1-1v-2a1 1 0 012 0v2a1 1 0 01-1 1z"></path>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-red-600 mb-4">This Article is Locked</h2>
                <p class="text-lg text-gray-600">The full content is available exclusively to pro users.</p>
                <p class="text-xl font-semibold text-gray-700 mt-4">Pro User Access Date: <span class="text-pink-600">October 15th</span></p>
            </section>
        </div>
    </main>
<body class="text-gray-800">

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-3xl">

        <header class="text-center mb-12">
            <div class="bg-yellow-400 text-yellow-900 font-bold py-2 px-4 rounded-full mb-4 inline-block">Pro Users Only</div>
            <h1 class="font-pacifico text-4xl md:text-5xl text-pink-600 mb-2">Five Below with Lucy & Lala: Pink Flamingos & Plushie Finds! 💕</h1>
            <p class="text-sm text-gray-500 mb-4">Pro User Access Date: October 15th</p>
            <p class="text-lg text-gray-600">Lucy and Lala made a stop at Five Below, and you know it turned into a full-blown adventure. Decked out in their matching red tops and cozy teddy overalls, the girls zoomed straight to the toy aisle—aka plushie paradise!</p>
        </header>

        <section id="treasure-hunt-intro" class="mb-12 bg-white p-8 rounded-xl shadow-md text-center">
            <h2 class="text-3xl font-bold text-red-600 mb-4">🎀 Lucy and Lala’s Five Below Treasure Hunt 🎀</h2>
            <p class="text-lg text-gray-600">“The aisles are filled with candy and critters!” — Lucy</p>
        </section>

        <section id="outfit-of-the-day" class="mb-12 bg-white p-8 rounded-xl shadow-md text-center">
            <h2 class="text-3xl font-bold text-red-600 mb-4">Outfit of the Day:</h2>
            <p class="text-lg mb-2">Toddler Girl Bear Print Corduroy Overalls - White</p>
            <a href="https://www.carters.com/p/toddler-girl-bear-print-corduroyoveralls-white/V_2T686110" class="text-blue-600 hover:underline text-lg">Shop the Overalls Here »</a>
        </section>




<img src= https://i.imgur.com/xgPNFzm.jpeg width="700" height="700" class="mb-12 bg-white p-8 rounded-xl shadow-md text-center">

        <section id="video-diary" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-green-600 mb-6">🎥 Lucy & Lala’s Toy Store Adventure</h2>
            <p class="text-lg text-gray-600 mb-4">“We just need every color!” — Lucy</p>
            <p class="text-lg text-gray-600 mb-6">“Can we do our matching walk?” — Lala</p>

            <div class="video-container mb-6">
                <video controls preload="metadata" playsinline poster="https://i.imgur.com/xgPNFzm.jpeg">
                    <source src="https://i.imgur.com/wEt8FzO.mp4" type="video/mp4"> width="700" height="700" 
                    Your browser does not support the video tag.
                </video>
            </div>

            <p class="text-lg mb-4">In this sweet behind-the-scenes clip, the twins explore the plush toy section, stop to admire squishy bins, and try their iconic matching hop-step dance. Watch as they:</p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                <li>Gasp at a glitter slime stack</li>
                <li>Spot a giant plush unicorn ("It has eyelashes!")</li>
                <li>Attempt to carry three stuffed animals each before collapsing into giggles</li>
            </ul>

            <h3 class="text-2xl font-bold text-green-600 mb-4">📹 Video Highlights:</h3>
            <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                <li>🎯 Location: Five Below toy aisle near the squishies & $5 plush bins</li>
                <li>🎀 Outfits: Matching overalls with red long sleeves (same as the Flamingo photo day!)</li>
                <li>🎉 Mood: Giggly, grabby, and seriously focused on collecting toys</li>
            </ul>
 <section id="mini-mirrors" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-teal-600 mb-6">🪞 Mini Vanity Mirrors ($5)</h2>
            <p class="text-lg mb-4">Behind Lucy and Lala were shelves of handheld light-up mirrors with metallic finishes. Perfect for mini makeovers and pretend beauty salons!</p>
            <a href="https://www.fivebelow.com/search?q=mini%20mirrors" class="text-blue-600 hover:underline block text-center mt-4">See the mirror section.</a>
        </section>

         <section id="emoji-pillow" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-yellow-600 mb-6">💛 Emoji Poop Pillow ($5) – Yes, it’s back!</h2>
            <p class="text-lg mb-4">Tucked on the upper shelf was the gold glitter Poop Emoji Plush Pillow — an iconic Five Below classic.</p>
            <a href="https://www.walmart.com/ip/Pile-of-Poo-Emoji-Throw-Pillow-Poop-Face-Stuffed-Plush-Toy-Smiley-Plushie/437223058?adid=22222222264451861491&wmlspartner=wmtlabs&wl0=b&wl1=o&wl2=c&wl3=74492067720317&wl4=dat-2326291726791906:loc-71313&wl5=91644&wl6=&wl7=&wl14=poop%20emoji%20pillow&veh=sem&&msclkid=af983e779ba21ef52a2056feb87da7c0&gclid=af983e779ba21ef52a2056feb87da7c0&gclsrc=3p.dss" class="text-blue-600 hover:underline block text-center mt-4">Available here.</a>
        </section>

 <section id="flamingo-decor" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-pink-600 mb-6">🦩 Glitter Flamingo Lawn Decor ($5)</h2>
            <p class="text-lg mb-4">Lucy proudly picked up a sparkly pink flamingo — part of the seasonal decor aisle.</p>
            <a href="https://www.fivebelow.com/products/inflatable-glitter-cup-holder-pool-float" class="text-blue-600 hover:underline block text-center mt-4">Shop similar glitter lawn decorations here.</a>
        </section>

            <h3 class="text-2xl font-bold text-green-600 mb-4">📦 Featured Products in Video:</h3>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><a href="https://www.fivebelow.com/products/flipeez-unicorn-plush-8in?variant=9100262&sr=1" class="text-blue-600 hover:underline">$5 Plush Unicorns</a></li>
                <li><a href="https://www.fivebelow.com/products/strawberry-shortcake-glitter-scented-slime-5oz-9180371?variant=9180372&sr=1" class="text-blue-600 hover:underline">Glitter Slime Stackables</a></li>
                <li><a href="https://www.fivebelow.com/products/bubble-popper-sensory-fidget-toy-5in?variant=4195152-CIRCLERAINB" class="text-blue-600 hover:underline">Rainbow Pop-Its (again!)</a></li>
            </ul>
        </section>

        <section id="intro-photo" class="mb-12">
            <img src="https://i.imgur.com/xgPNFzm.jpeg" alt="Lucy and Lala at Five Below" class="w-full rounded-xl shadow-lg img-hover-effect">
            <p class="text-center text-sm text-gray-500 mt-4">Lucy and Lala ready for their Five Below adventure!</p>
        </section>

        <section id="plushie-finds" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-purple-700 mb-6">🛒 Aisle One: Cuddly Creatures & Color Bursts</h2>
            <img src="https://i.imgur.com/ynLX0ED.jpeg" alt="Colorful plush toys at Five Below" class="w-full rounded-xl shadow-lg img-hover-effect my-6">
            <p class="text-lg mb-4">What they saw:</p>
            <ul class="list-disc list-inside space-y-3 text-gray-700 mb-6">
                <li>🧸 Colorful plush toys — like the purple jelly bears, rainbow bunnies, and that $4 lavender lamb they both had to hug.</li>
                <li>🎭 Captain America, Spiderman, and green T-Rex character pillows on the wall.</li>
            </ul>
            <p class="text-lg italic mb-2">Lucy: “This pink bear is saying ‘come with me’!”</p>
            <p class="text-lg italic mb-4">Lala: “We should get two so they don’t cry alone.”</p>

            <h3 class="text-2xl font-bold text-purple-700 mb-4">🧸 Similar finds at Five Below:</h3>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><a href="https://www.fivebelow.com/search?q=plush" class="text-blue-600 hover:underline">Squishy Plush Stuffed Animals - $5</a></li>
                <li><a href="https://www.fivebelow.com/search?q=marvel-character-bed-pillow-hero" class="text-blue-600 hover:underline">Character Pillow Buddies</a></li>
            </ul>
        </section>

        <section id="candy-land-discovery" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-pink-600 mb-6">🍬 Aisle Two: Candy Land Discovery</h2>
            <img src="https://i.imgur.com/4ffb66H.jpeg" alt="Lucy and Lala with candy" class="w-full rounded-xl shadow-lg img-hover-effect my-6">
            <p class="text-lg mb-4">🍭 Ring Pops by the handful!</p>
            <ul class="list-disc list-inside space-y-3 text-gray-700 mb-6">
                <li>🍬 Lala holds a green gummy. Lucy clutches a blue candy wand.</li>
            </ul>
            <p class="text-lg italic mb-2">Lala (quietly): “This one tastes like mermaid.”</p>
            <p class="text-lg italic mb-4">Lucy: “We can eat one now and save one for nap!”</p>

            <h3 class="2xl font-bold text-pink-600 mb-4">🍬 Candy Links:</h3>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><a href="https://www.fivebelow.com/products/ring-pop-candy-lollipops-6-count-bag?variant=4760099&sr=1" class="text-blue-600 hover:underline">Ring Pop Bulk Packs</a></li>
                <li><a href="https://www.fivebelow.com/products/juicy-drop-gummies-and-sour-gel-201oz?variant=2610822-BLUEREBEL&sr=1" class="text-blue-600 hover:underline">Candy Wands (Juicy Drop style)</a></li>
                <li><a href="https://www.fivebelow.com/products/haribo-gold-bears-gummi-candy-4oz?variant=2641504&sr=1" class="text-blue-600 hover:underline">Haribo Gummy Goldbears</a></li>
            </ul>
        </section>

        <section id="rainbow-snacks-giggles" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-purple-700 mb-6">🍓 Aisle Three: Rainbow Snacks & Sweet Giggles</h2>
            <img src="https://i.imgur.com/NAsMExj.jpeg" alt="Lucy and Lala with snacks" class="w-full rounded-xl shadow-lg img-hover-effect my-6">
            <p class="text-lg mb-4">🍡 “We found gum that’s pink!”</p>
            <ul class="list-disc list-inside space-y-3 text-gray-700 mb-6">
                <li>🍬 Their hands are filled with strawberry swirl candies and peppermint sticks.</li>
            </ul>
            <p class="text-lg italic mb-2">Lucy: “Mine is squishy! Feel it!”</p>
            <p class="text-lg italic mb-4">Lala: “This one’s spicy mint. I’m gonna trade it!”</p>

            <h3 class="text-2xl font-bold text-purple-700 mb-4">🍬 Snack & Candy Links:</h3>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><a href="https://ripslicorice.com" class="text-blue-600 hover:underline">Rips Licorice, Gummy Sour Mix</a></li>
                <li><a href="https://www.target.com/p/smarties-squashies-candy-5oz/-/A-93368622" class="text-blue-600 hover:underline">Squash Face Gummies</a></li>
                <li><a href="https://www.fivebelow.com/products/warheads-mega-candy-tube?variant=2067551&sr=1" class="text-blue-600 hover:underline">Warheads Candy Assortments</a></li>
            </ul>
        </section>

        <section id="pop-it-bin" class="mb-12 bg-white p-8 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-orange-600 mb-6">🌈 Lucy & Lala vs. The Pop-It Bin!</h2>
            <p class="text-lg text-gray-600 mb-4">"These are bubble pancakes!" — Lala 🍳</p>
            <img src="https://i.imgur.com/lIa54iD.jpeg" alt="Lucy and Lala with pop-it toys" class="w-full rounded-xl shadow-lg img-hover-effect my-6">
            <p class="text-lg mb-4"><strong>Location:</strong> The “GAME ON” aisle near the fidget bins, board games, and back-to-school shelves.</p>
            <p class="text-lg mb-4"><strong>What happened:</strong></p>
            <p class="text-lg mb-6">The girls ran straight to the rainbow Pop-Its like magnets. Lucy went for the classic square shape, while Lala quietly reached for a round one and gave it a good pop-pop-pop.</p>
            <p class="text-lg italic mb-2">💬 Lucy: "This one's crunchy loud!"</p>
            <p class="text-lg italic mb-4">💬 Lala: "Mine’s soft like jelly. It needs a name… I’ll name it Bubble."</p>

            <h3 class="text-2xl font-bold text-orange-600 mb-4">🎁 Featured Items in the Picture:</h3>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li>🫧 Rainbow Pop-It Toys – $3.25–$5.00 <a href="https://www.fivebelow.com/search?q=pop-it" class="text-blue-600 hover:underline">Bubble Popper Sensory Fidget Toy 5in | Five Below</a></li>
                <li>🎮 🎮 Game On! Binders for school and beyond" <a href="https://www.fivebelow.com/search?q=binder" class="text-blue-600 hover:underline">Shop Binders</a></li>
                <li>🎲 Beanboozled Party Game - $3.58 <a href="https://www.fivebelow.com/products/jelly-belly-beanboozled-jelly-beans-mystery-dispenser-9131943?variant=9131944&sr=1" class="text-blue-600 hover:underline">Beanboozled Game</a></li>
            </ul>
            <p class="text-lg mt-6"><strong>Mom Note:</strong> These Pop-Its were a hit not just for play but for sibling teamwork — Lala popped the left row while Lucy did the right!</p>
        </section>
        
       
    
    <footer class="text-center p-6 mt-10 bg-gray-200 text-gray-600">
        <p>Happy Shopping from Lucy & Lala!</p>
    </footer>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // --- Config & Globals ---
    const appId = (typeof window !== 'undefined' && typeof window.__app_id !== 'undefined') ? window.__app_id : 'default-app-id';
    const initialAuthToken = (typeof window !== 'undefined' && typeof window.__initial_auth_token !== 'undefined') ? window.__initial_auth_token : null;

    const firebaseConfig = {
      apiKey: "AIzaSyBaVuIUd_iVRiR5LEeCoPtE0QphcxMLBQU",
      authDomain: "lucyandlala.firebaseapp.com",
      projectId: "lucyandlala",
      storageBucket: "lucyandlala.firebasestorage.app",
      messagingSenderId: "422161772278",
      appId: "1:422161772278:web:a39c41f9ad967d379886d7",
      measurementId: "G-JZJK3JWCKH"
    };

    let app = null, auth = null, db = null, currentUserId = null;

    if (firebaseConfig && firebaseConfig.apiKey) {
      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      db = getFirestore(app);
      console.log("Firebase services initialized.")
    } else {
      console.warn("Firebase config not found. Auth/Pro status disabled.");
    }

    // --- Helpers ---
    function isAdminRestrictedError(err){
      return !!(err && (err.code === 'auth/admin-restricted-operation' || /admin-restricted/i.test(err.message||'')));
    }

    async function safeClientSignIn(auth, token){
      if (!auth) return null;
      // If already signed in, no-op
      if (auth.currentUser) return auth.currentUser;

      // Prefer custom token only if provided; fallback to anonymous on any failure
      if (token && typeof token === 'string' && token.trim().length){
        try {
          const cred = await signInWithCustomToken(auth, token);
          return cred.user;
        } catch (e) {
          console.warn('Custom-token sign-in failed; falling back to anonymous:', e?.code || e);
          // Fall through to anonymous for admin-restricted and any other errors
        }
      }

      try {
        const cred = await signInAnonymously(auth);
        return cred.user;
      } catch (e) {
        console.warn('Anonymous sign-in failed (is it enabled in Firebase console?):', e?.code || e);
        return null; // Continue unauthenticated; Firestore read may be denied and we will treat as non-Pro
      }
    }

    async function getAuthenticatedUserId(){
      if (!auth) return null;
      return new Promise(resolve => {
        const unsub = onAuthStateChanged(auth, (user)=>{ unsub(); resolve(user ? user.uid : null); });
      });
    }

    async function getProSubscriberStatus(){
      if (!db) return false;
      const userId = await getAuthenticatedUserId();
      if (!userId) return false;
      try {
        const userDocRef = doc(db, `artifacts/${appId}/users/${userId}/profile`, 'subscription');
        const docSnap = await getDoc(userDocRef);
        if (docSnap.exists()) {
          const data = docSnap.data();
          return data.isProSubscriber === true;
        }
        return false;
      } catch (e) {
        // Permission-denied or other Firestore errors => treat as not Pro instead of crashing
        console.warn('Firestore read error (treating as non-Pro):', e?.code || e);
        return false;
      }
    }

    const releaseDate = new Date('2025-10-15T00:00:00');
    const currentDate = new Date();

    document.addEventListener('DOMContentLoaded', async () => {
      // Sign-in safely (no admin-only client calls). Falls back to anonymous, then no-auth.
      await safeClientSignIn(auth, initialAuthToken);

      if (currentDate < releaseDate) {
        // Date-locked overlay
        document.body.insertAdjacentHTML('beforeend', `
          <div class="locked-overlay" data-testid="locked-overlay">
            <h3>🔒 Coming Soon!</h3>
            <img src= https://i.imgur.com/xgPNFzm.jpeg width="700" height="700" class="mb-12 bg-white p-8 rounded-xl shadow-md text-center">
            <p>This exclusive snack time adventure will be released on  October 15th, 2025!</p>
            <p>Check back soon to see Lucy and Lala's shopping spree!</p>
            <a href="index.html" class="mt-4">Back to All Adventures! 🎀</a>
          </div>`);
        document.body.style.overflow = 'hidden';
      } else {
        const isProSubscriber = await getProSubscriberStatus();
        if (!isProSubscriber) {
          const mainContent = document.querySelector('main');
          if (mainContent) {
            mainContent.insertAdjacentHTML('afterbegin', `
              <div class="pro-content-overlay" data-testid="pro-overlay">
                <h3>🔒 Pro Content Only!</h3>
                <p>This exclusive snack time adventure is reserved for Lucy and Lala Pro Subscribers.</p>
                <a href="https://buy.stripe.com/eVq00ldtC8408cxfZwabK00" target="_blank">Unlock Now for $10/month!</a>
              </div>`);
            const article = mainContent.querySelector('article');
            if (article) { article.style.filter = 'blur(5px)'; article.style.pointerEvents = 'none'; }
          }
        }
      }

      // --- Test Suite (do not modify existing tests; add more below) ---
      (function runTests(){
        const results = [];
        const t = (name, pass) => { results.push({ test: name, pass: !!pass }); console.assert(pass, name); };
        try {
          // Existing tests
          t('initialAuthToken variable is defined', typeof initialAuthToken !== 'undefined');
          t('appId variable is defined', typeof appId !== 'undefined');
          t('releaseDate is a Date', releaseDate instanceof Date);
          if (currentDate < releaseDate) {
            t('Locked overlay injected before release date', !!document.querySelector('[data-testid="locked-overlay"]'));
          } else {
            t('Either article or pro overlay present after release', !!document.querySelector('article') || !!document.querySelector('[data-testid="pro-overlay"]'));
          }

          // Additional tests (new)
          t('isAdminRestrictedError identifies admin-restricted error', isAdminRestrictedError({ code: 'auth/admin-restricted-operation', message: 'admin restricted' }));
          t('isAdminRestrictedError returns false for null', !isAdminRestrictedError(null));
          t('safeClientSignIn function exists', typeof safeClientSignIn === 'function');
        } catch (e) {
          console.error('Test suite error:', e);
        } finally {
          console.table(results);
                 }
      })();
    });
  </script>
</body>
</html>
